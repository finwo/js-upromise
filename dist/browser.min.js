!function(e){if("undefined"!==module&&"undefined"!==module.exports)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else if("undefined"!=typeof window)window.EE=e();else{if("undefined"==typeof global)throw new Error("Could not initialize UPromise");global.EE=e()}}(function(){var r,o,t,i,s,c,n,e,a,u,p=(n={3:{exports:void 0,exports:function(r){return function(t){return function(){var e=Array.prototype.slice.call(arguments);return new r(function(r,o){e.push(function(e,t){return e?o(e):void r(t)}),t.apply(void 0,e)})}}}}.exports,f:{exports:void 0,exports:function(n){return function(e){return new n(function(t,r){var o=!1;e.forEach(function(e){n.resolve().then(e).then(function(e){o||(o=!0,t(e))},function(e){o||(o=!0,r(e))})})})}}}.exports,52:{exports:void 0,exports:function(r){return function(e){var t=r.resolve();return e.forEach(function(e){t=t.then(e)}),t}}}.exports,6:(e={exports:void 0},i=p("2"),s=p("s"),c=p("j"),e.exports=function(n){return function(e,t){var r=Object.assign(Object.create(n.prototype),i,{__state:"waiting"}),o=this;return o.__stack.push({resolve:e||s,reject:t||s}),o.__stack.push({prom:r}),"resolved"===o.__state?setTimeout(c.resolve.bind(o,o.__data),0):"rejected"===o.__state&&setTimeout(c.reject.bind(o,o.__error),0),r}},e.exports),j:function(){var e={exports:void 0},n=p("p");e.exports={resolve:function(e){var t=this;if(t.__state="waiting"===t.__state?"pending":t.__state,"object"!=typeof e||"function"!=typeof e.then){var r=t.__stack.shift();if(!r)return t.__state="resolved",void(t.__data=e);if("object"==typeof r.prom&&"function"==typeof r.prom.then)return r.prom.then(i.bind(t),s.bind(t)),void("upromise"===n(r.prom)&&"waiting"===r.prom.__state&&i.call(r.prom,e));if("function"==typeof r.resolve){try{var o=r.resolve(e);if(!t.__stack.length)return t.__state="resolved",void(t.__data=o);i.call(t,o)}catch(e){if(!t.__stack.length)return t.__state="rejected",void(t.__error=e);s.call(t,e)}t.__state="resolved",t.__data=e}else i.call(t,r.resolve)}else e.then(i.bind(t),s.bind(t))},reject:function(e){var t=this,r={};for(t.__state="waiting"===t.__state?"pending":t.__state;r&&!r.reject;)r=t.__stack.shift();if(!r)throw new Error("Uncaught Promise rejection:"+e);try{var o=r.reject(e);if(!t.__stack.length)return t.__state="rejected",t.__data=o,void(t.__error=e);i.call(t,o)}catch(e){if(!t.__stack.length)return t.__state="rejected",void(t.__error=e);s.call(t,e)}t.__state="rejected",t.__error=e}};var i=e.exports.resolve,s=e.exports.reject;return e.exports}(),p:{exports:void 0,exports:function(e){switch(typeof e){case"string":return"string";case"boolean":return"boolean";case"undefined":return"undefined";case"number":return"number";case"object":return null===e?null:e&&e.constructor&&"UPromise"===e.constructor.name?"upromise":e&&"function"==typeof e.next?"generator":e&&"function"==typeof e.then?"promise":Array.isArray(e)?"array":"object";case"function":return"GeneratorFunction"===Object.getPrototypeOf(e).constructor.name?"generator-function":"function";default:return"unknown"}}}.exports,s:{exports:void 0,exports:function(e){return e}}.exports,2:{exports:void 0,exports:{__state:"pending",__stack:[],__data:void 0,__error:void 0}}.exports,5:(e={exports:void 0},t=p("s"),e.exports=function(e){return this.then(t,e)},e.exports),pt:(e={exports:void 0},o=p("2"),e.exports=function(t){return function(e){return Object.assign(Object.create(t.prototype),o,{__state:"rejected",__error:e})}},e.exports),m:(e={exports:void 0},r=p("2"),e.exports=function(t){return function(e){return e&&"function"==typeof e.then?e:Object.assign(Object.create(t.prototype),r,{__state:"resolved",__data:e})}},e.exports)},function(e){return e in n?n[e]:void 0});return e={exports:void 0},a=p("2"),u=p("j"),f.resolve=p("m")(f),f.reject=p("pt")(f),f.prototype.catch=p("5"),f.prototype.then=p("6")(f),f.all=p("52")(f),f.race=p("f")(f),f.from=p("3")(f),f.prototype.name="UPromise",e.exports=f,e.exports;function f(e){if(Object.assign(this,a),"function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");try{e(u.resolve.bind(this),u.reject.bind(this))}catch(e){u.reject.call(this,e)}}});
