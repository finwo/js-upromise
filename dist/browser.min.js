!function(e){if("undefined"!==module&&"undefined"!==module.exports)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else if("undefined"!=typeof window)window.EE=e();else{if("undefined"==typeof global)throw new Error("Could not initialize UPromise");global.EE=e()}}(function(){var e,t,r,o,n,i,s,c,a,u,f,p,_,d,l,v,x,h=(x={x:(v={exports:void 0,exports:function(r){return function(t){return function(){var e=Array.prototype.slice.call(arguments);return new r(function(r,o){e.push(function(e,t){if(e)return o(e);r(t)}),t.apply(void 0,e)})}}}},v.exports),8:(l={exports:void 0,exports:function(n){return function(e){return new n(function(t,r){var o=!1;e.forEach(function(e){n.resolve().then(e).then(function(e){o||(o=!0,t(e))},function(e){o||(o=!0,r(e))})})})}}},l.exports),n7:(d={exports:void 0,exports:function(r){return function(e){var t=r.resolve();return e.forEach(function(e){t=t.then(e)}),t}}},d.exports),"9f":(u={exports:void 0},f=h("n"),p=h("dt"),_=h("z"),u.exports=function(n){return function(e,t){var r=Object.assign(Object.create(n.prototype),f,{__state:"waiting"}),o=this;return o.__stack.push({resolve:e||p,reject:t||p}),o.__stack.push({prom:r}),"resolved"===o.__state?setTimeout(_.resolve.bind(o,o.__data),0):"rejected"===o.__state&&setTimeout(_.reject.bind(o,o.__error),0),r}},u.exports),z:function(){var e={exports:void 0},n=h("9");e.exports={resolve:function(e){var t=this;if(t.__state="waiting"===t.__state?"pending":t.__state,"object"!=typeof e||"function"!=typeof e.then){var r=t.__stack.shift();if(!r)return t.__state="resolved",void(t.__data=e);if("object"==typeof r.prom&&"function"==typeof r.prom.then)return r.prom.then(i.bind(t),s.bind(t)),void("upromise"===n(r.prom)&&"waiting"===r.prom.__state&&i.call(r.prom,e));if("function"==typeof r.resolve){try{var o=r.resolve(e);if(!t.__stack.length)return t.__state="resolved",void(t.__data=o);i.call(t,o)}catch(e){if(!t.__stack.length)return t.__state="rejected",void(t.__error=e);s.call(t,e)}t.__state="resolved",t.__data=e}else i.call(t,r.resolve)}else e.then(i.bind(t),s.bind(t))},reject:function(e){var t=this,r={};for(t.__state="waiting"===t.__state?"pending":t.__state;r&&!r.reject;)r=t.__stack.shift();if(!r)throw new Error("Uncaught Promise rejection:"+e);try{var o=r.reject(e);if(!t.__stack.length)return t.__state="rejected",t.__data=o,void(t.__error=e);i.call(t,o)}catch(e){if(!t.__stack.length)return t.__state="rejected",void(t.__error=e);s.call(t,e)}t.__state="rejected",t.__error=e}};var i=e.exports.resolve,s=e.exports.reject;return e.exports}(),dt:(a={exports:void 0,exports:function(e){return e}},a.exports),n:(c={exports:void 0,exports:{__state:"pending",__stack:[],__data:void 0,__error:void 0}},c.exports),g:(i={exports:void 0},s=h("dt"),i.exports=function(e){return this.then(s,e)},i.exports),d:(o={exports:void 0},n=h("n"),o.exports=function(t){return function(e){return Object.assign(Object.create(t.prototype),n,{__state:"rejected",__error:e})}},o.exports),k:(t={exports:void 0},r=h("n"),t.exports=function(t){return function(e){return e&&"function"==typeof e.then?e:Object.assign(Object.create(t.prototype),r,{__state:"resolved",__data:e})}},t.exports),9:(e={exports:void 0,exports:function(e){switch(typeof e){case"string":return"string";case"boolean":return"boolean";case"undefined":return"undefined";case"number":return"number";case"object":return null===e?null:e&&e.constructor&&"UPromise"===e.constructor.name?"upromise":e&&"function"==typeof e.next?"generator":e&&"function"==typeof e.then?"promise":Array.isArray(e)?"array":"object";case"function":return"GeneratorFunction"===Object.getPrototypeOf(e).constructor.name?"generator-function":"function";default:return"unknown"}}},e.exports)},function(e){return e in x?x[e]:void 0});return function(){var e={exports:void 0},r=h("n"),o=h("z");function t(e){var t=this;if(Object.assign(this,r),"function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");try{e(o.resolve.bind(t),o.reject.bind(t))}catch(e){o.reject.call(t,e)}}return t.resolve=h("k")(t),t.reject=h("d")(t),t.prototype.catch=h("g"),t.prototype.then=h("9f")(t),t.all=h("n7")(t),t.race=h("8")(t),t.from=h("x")(t),t.prototype.name="UPromise",e.exports=t,e.exports}()});
